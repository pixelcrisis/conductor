(()=>{var r={MAIN:{TRAIN_BUFFER:1e8,COLORS:{POOR:"#a3a3a3",RICH:"#6cbe45",WARN:"#fccc0a"}},GAME:{STARTING_MONEY:3e9,STARTING_TRAIN_CARS:30,DEFAULT_TICKET_COST:3,MIN_TRACK_LENGTH:10,MIN_TURN_RADIUS:29,MAX_SLOPE_PERCENTAGE:4,STUCK_TRAIN_TIMEOUT:900,CONSTRUCTION_COSTS:{ELEVATION_THRESHOLDS:{DEEP_BORE:-100,STANDARD_TUNNEL:-24,CUT_AND_COVER:-10,AT_GRADE:-3,ELEVATED:4.5}}},TEST:{CHECK:5,TEST:3,DEEP:{CHECK:6,TEST:4}}};var p=(o,t,e)=>o.hasOwnProperty(e)?typeof o[e]=="object"&&typeof t[e]=="object":!1,a=(o,t)=>{for(let e in t)p(o,t,e)?a(o[e],t[e]):o[e]=t[e]},l={Load:()=>{let o=window.localStorage.getItem("conductor");return o?(console.log(">> Conductor: Loading DB..."),JSON.parse(o)):!1},Meld:(o,t)=>{a(o,t)},Save:o=>{window.localStorage.setItem("conductor",JSON.stringify(o)),console.log(">> Conductor: DB Updated.")}};var u=(o,t)=>{if(console.log(">> Conductor Booting..."),!o||!o.version)return!1;console.log(`>> Conductor Connected: v${o.version}...`);let e=l.Load();return e&&(l.Meld(t,e),l.Save(t)),console.log(">> Conductor: Overwriting Rules..."),o.modifyConstants(t.GAME),{CONF:t}};var R=()=>`(
    <div className="p-4 bg-white dark:bg-gray-800 rounded">
      <h3>My Mod Settings</h3>
      <button onClick={() => console.log('Clicked!')}>
        Do Something
      </button>
    </div>
  )`,C=o=>{o.ui.registerComponent("settings-menu",{id:"conductor-menu",component:R})};var{COLORS:c,TRAIN_BUFFER:g}=r.MAIN,m="main > .absolute.bottom-0 .lucide-banknote",T=o=>{let e=o.gameState.getTracks().filter(S=>S.displayType=="blueprint"),n=window.Conductor.__blueprints||!1,f=o.gameState.getBudget(),E=o.gameState.calculateBlueprintCost(e).totalCost,d=f-E;d<0?n=c.POOR:d<g?n=c.WARN:n!=c.RICH&&(o.ui.showNotification("Blueprints Available!","success"),n=window.Conductor.__blueprints=c.RICH);let s=document.querySelectorAll(m);s&&s[0]&&(s[0].style.color=n)};var i=window.SubwayBuilderAPI,N=()=>{let o=window.Conductor=u(i,r);if(!o)return console.log(">> Conductor Failed :: No API Access.");o.MENU=C(i),console.log(">> Conductor Successfully Activated!")};N();i.hooks.onGameInit(()=>{window.Conductor.Loop&&clearInterval(window.Conductor.Loop),window.Conductor.Loop=setInterval(()=>{T(i)},2500)});})();
